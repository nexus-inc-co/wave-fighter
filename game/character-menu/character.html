<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="character.css" />
    <title>Document</title>
  </head>
  <body>
    <h1 class="Character-picker">Character Selection<h1>
    <section aria-label="Newest Photos">
      <div class="carousel" data-carousel>
        <button class="carousel-button prev" data-carousel-button="prev">
          &#x2962;
        </button>
        <button class="carousel-button next" data-carousel-button="next">
          &#x2964;
        </button>
        <ul data-slides>
          <li class="slide" data-active>
            <img
              src="../Fotos/characater_cards/testcard.png"
              name="Blue.png"
              alt="color image #1"
              onclick="myFunction()"
            />
            <br>
            <button onclick="selectCharacter('character1')" class="Character-Select">Character 1</button>
          </li>
          <li class="slide">
            <img
              src="../Fotos/characater_cards/testcard2.png"
              name="Red.png"
              alt="color image #2"
              onclick="myFunction()"
            />
            <br>
            <button onclick="selectCharacter('character2')" class="Character-Select">Character 2</button>
          </li>
          <li class="slide">
            <img
              src="../Fotos/characater_cards/testcard3.png"
              name="Purple.png"
              alt="color image #3"
              onclick="myFunction()"
            />
            <br>
            <button onclick="selectCharacter('character3')" class="Character-Select">Character 3</button>
          </li>
        </ul>
      </div>
    </section>

    <a href="../game/game.html">back<a>

    <script>
      const buttons = document.querySelectorAll("[data-carousel-button]");

      buttons.forEach((button) => {
        button.addEventListener("click", () => {
          const offset = button.dataset.carouselButton === "next" ? 1 : -1;
          const slides = button
            .closest("[data-carousel]")
            .querySelector("[data-slides]");

          const activeSlide = slides.querySelector("[data-active]");
          let newIndex = [...slides.children].indexOf(activeSlide) + offset;

          if (newIndex < 0) newIndex = slides.children.length - 1;
          if (newIndex >= slides.children.length) newIndex = 0;

          slides.children[newIndex].dataset.active = true;
          delete activeSlide.dataset.active;
        });
      });
    </script>
    <script src="../script.js"></script>
  </body>
</html>
